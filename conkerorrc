// -*- mode: js -*-

require("new-tabs.js");
require("session.js")
require("clicks-in-new-buffer.js");
clicks_in_new_buffer_target = OPEN_NEW_BUFFER_BACKGROUND; 
clicks_in_new_buffer_button = 1; //  midclick links in new buffers with

// auto completion in the minibuffer
minibuffer_auto_complete_default = true;
//url_completion_use_history = true; // should work since bf05c87405
url_completion_use_bookmarks = true;

// bookmarks
define_webjump("ddg", "http://duckduckgo.com/?q=%s");
define_webjump("4ch", "http://catalog.neet.tv/a/");
define_webjump("tt", "http://tokyotosho.info/?cat=1");
define_webjump("upel-agh", "http://upel.agh.edu.pl/weaiib/login/");
define_webjump("forum-stosowana", "http://forum.stosowana.pl/");
define_webjump("plan-zajec", "http://is-assignments.herokuapp.com/");
define_webjump("nipponsei", "https://nipponsei.minglong.org/index.php?section=Tracker&search=%s");
define_webjump("tpb", "http://thepiratebay.se/");
define_webjump("!tpb", "http://thepiratebay.se/search/%s/0/7/0");

editor_shell_command = "emacsclient -c";

// copy url with C-c u
interactive("copy-url",
            "Copy the current buffer's URL to the clipboard",
            function(I) {
                var text = I.window.buffers.current.document.location.href;
                writeToClipboard(text);
                I.window.minibuffer.message("copied: " + text);
            });
define_key(default_global_keymap, "C-c u", "copy-url");

// reload conkerorrc with C-c r
interactive("reload-config", "reload conkerorrc",
            function(I) {
                load_rc();
                I.window.minibuffer.message("config reloaded");
            });
define_key(default_global_keymap, "C-c r", "reload-config");

// ghostery command
interactive("ghostery",
            "Open Ghostery settings.",
            function (I) {
                browser_object_follow(I.buffer, OPEN_NEW_BUFFER, 'chrome://ghostery/content/options.html');
            });
